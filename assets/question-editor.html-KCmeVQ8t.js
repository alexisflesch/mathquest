import{_ as a,c as s,a as n,o as i}from"./app-Blvv7Pu1.js";const t={};function l(o,e){return i(),s("div",null,e[0]||(e[0]=[n(`<h1 id="editeur-de-questions-pour-enseignants" tabindex="-1"><a class="header-anchor" href="#editeur-de-questions-pour-enseignants"><span>Éditeur de Questions pour Enseignants</span></a></h1><h2 id="vue-d-ensemble" tabindex="-1"><a class="header-anchor" href="#vue-d-ensemble"><span>Vue d&#39;ensemble</span></a></h2><p>L&#39;éditeur de questions est une nouvelle page accessible aux enseignants via <code>/teacher/questions/edit</code>. Cette page permet de créer, modifier et gérer des questions au format YAML sans affecter la base de données live.</p><h2 id="fonctionnalites" tabindex="-1"><a class="header-anchor" href="#fonctionnalites"><span>Fonctionnalités</span></a></h2><h3 id="interface-utilisateur" tabindex="-1"><a class="header-anchor" href="#interface-utilisateur"><span>Interface Utilisateur</span></a></h3><ul><li><strong>Layout responsive</strong> : 3 colonnes sur desktop, onglets empilés sur mobile</li><li><strong>Édition YAML</strong> : Éditeur Monaco avec coloration syntaxique</li><li><strong>Édition formulaire</strong> : Interface simplifiée avec sections repliables</li><li><strong>Aperçu mobile</strong> : Simulation d&#39;écran de téléphone</li></ul><h3 id="gestion-des-questions" tabindex="-1"><a class="header-anchor" href="#gestion-des-questions"><span>Gestion des Questions</span></a></h3><ul><li>Ajout/suppression de questions avec génération automatique d&#39;UID</li><li>Synchronisation bidirectionnelle entre YAML et formulaire</li><li>Sauvegarde automatique dans localStorage</li></ul><h3 id="import-export" tabindex="-1"><a class="header-anchor" href="#import-export"><span>Import/Export</span></a></h3><ul><li>Import de fichiers YAML par glisser-déposer ou sélection de fichier</li><li>Export vers fichier YAML téléchargeable</li><li>Copie du YAML dans le presse-papiers</li></ul><h2 id="architecture-technique" tabindex="-1"><a class="header-anchor" href="#architecture-technique"><span>Architecture Technique</span></a></h2><h3 id="composants" tabindex="-1"><a class="header-anchor" href="#composants"><span>Composants</span></a></h3><ul><li>Page principale : <code>src/app/teacher/questions/edit/page.tsx</code></li><li>Utilise les types partagés : <code>@shared/types/quiz/question</code></li></ul><h3 id="dependances" tabindex="-1"><a class="header-anchor" href="#dependances"><span>Dépendances</span></a></h3><ul><li><code>@monaco-editor/react</code> pour l&#39;édition YAML</li><li><code>js-yaml</code> pour le parsing</li><li><code>jest</code> pour les tests</li></ul><h3 id="securite" tabindex="-1"><a class="header-anchor" href="#securite"><span>Sécurité</span></a></h3><ul><li>Accès restreint aux utilisateurs avec rôle &quot;Teacher&quot; via middleware</li><li>Pas de modification de la base de données</li></ul><h3 id="tests" tabindex="-1"><a class="header-anchor" href="#tests"><span>Tests</span></a></h3><ul><li>Couverture complète avec Jest</li><li>Tests d&#39;intégration pour les interactions utilisateur</li><li>Mock de localStorage et Monaco Editor</li><li>Tests de non-régression sur le mode YAML (<code>QuestionEditor.yaml-mode.test.tsx</code>) pour garantir qu&#39;aucune normalisation automatique ne réécrit le YAML pendant la saisie</li></ul><h2 id="utilisation" tabindex="-1"><a class="header-anchor" href="#utilisation"><span>Utilisation</span></a></h2><ol><li>Accéder à <code>/teacher/questions/edit</code></li><li>Importer un fichier YAML existant ou créer de nouvelles questions</li><li>Éditer en mode YAML ou formulaire</li><li>Prévisualiser l&#39;apparence sur mobile</li><li>Exporter le résultat</li></ol><h2 id="format-yaml" tabindex="-1"><a class="header-anchor" href="#format-yaml"><span>Format YAML</span></a></h2><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml"><pre><code class="language-yaml"><span class="line"><span class="token punctuation">-</span> <span class="token key atrule">uid</span><span class="token punctuation">:</span> q123456</span>
<span class="line">  <span class="token key atrule">text</span><span class="token punctuation">:</span> <span class="token string">&quot;Quelle est la capitale de la France ?&quot;</span></span>
<span class="line">  <span class="token key atrule">questionType</span><span class="token punctuation">:</span> multiple<span class="token punctuation">-</span>choice</span>
<span class="line">  <span class="token key atrule">answers</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">-</span> <span class="token key atrule">text</span><span class="token punctuation">:</span> Paris</span>
<span class="line">      <span class="token key atrule">correct</span><span class="token punctuation">:</span> <span class="token boolean important">true</span></span>
<span class="line">    <span class="token punctuation">-</span> <span class="token key atrule">text</span><span class="token punctuation">:</span> Lyon</span>
<span class="line">      <span class="token key atrule">correct</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line">    <span class="token punctuation">-</span> <span class="token key atrule">text</span><span class="token punctuation">:</span> Marseille</span>
<span class="line">      <span class="token key atrule">correct</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="evolutions-futures" tabindex="-1"><a class="header-anchor" href="#evolutions-futures"><span>Évolutions Futures</span></a></h2><ul><li>Support pour d&#39;autres types de questions</li><li>Validation de schéma YAML</li><li>Partage par email</li><li>Intégration avec l&#39;API de questions</li></ul>`,25)]))}const c=a(t,[["render",l]]),u=JSON.parse('{"path":"/details-techniques/question-editor.html","title":"Éditeur de Questions pour Enseignants","lang":"fr-FR","frontmatter":{},"git":{"updatedTime":1761745766000,"contributors":[{"name":"alexisflesch","username":"alexisflesch","email":"alexis.flesch@gmail.com","commits":4,"url":"https://github.com/alexisflesch"}],"changelog":[{"hash":"a4579acdb1cf90c9d6cb6cd2ac2feecd7a41be8d","time":1761745766000,"email":"alexis.flesch@gmail.com","author":"alexisflesch","message":"fixed doc and config files to avoid ts errors"},{"hash":"db5f774137f11210f384a6e1d5e590e59ebf2cdf","time":1761745304000,"email":"alexis.flesch@gmail.com","author":"alexisflesch","message":"fixing doc"},{"hash":"e0c36a4955e078fa76f997ec32a8cbdbcf65d6de","time":1759516098000,"email":"alexis.flesch@gmail.com","author":"alexisflesch","message":"new iteration"},{"hash":"2fd9189d5c7aef52cdf4ccf33697a29d8c321e40","time":1759512752000,"email":"alexis.flesch@gmail.com","author":"alexisflesch","message":"working an a question editor"}]},"filePathRelative":"details-techniques/question-editor.md"}');export{c as comp,u as data};
