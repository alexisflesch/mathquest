---
applyTo: "**"
---


# App Modernization Progress

> **ğŸ¤– AI AGENT PROMPT INSTRUCTIONS:**
> This project enforces ZERO backward compatibility and ZERO legacy code patterns. When working on this codebase:

---

## ğŸ”´ CRITICAL BEHAVIOR GUIDELINES

1. **ğŸ“‹ DOCUMENT EVERYTHING**
   - When working on an issue, maintain an up-to-date `plan.md` file at all times.
   - Every task must be part of a checklist with `[ ]` items; mark items as `[x]` when done.
   - Update the checklist before and after each change.

2. **ğŸªµ LOG ALL ACTIONS**
   - Every non-trivial change must be recorded in the documentation if it affects the codebase somehow:
     - New socket events
     - New API endpoints
     - New Components
     - New Interfaces
     - etc...

3. **ğŸ—‚ï¸ PHASE-BASED PLANNING**
   - Work must be broken down into *phases*, each with a clear scope and exit criteria.
   - Keep the scope narrow: only work on one concern/module at a time.
   - If you cannot complete a phase cleanly, update the plan and stop.

4. **ğŸ¯ ALIGN WITH THE MAIN GOAL**
   - Always check whether the current task aligns with the overall modernization objective.
   - If not, pause and revise the plan.

5. **âœ… TEST AND VALIDATE EVERYTHING**
   - After every change, provide clear steps for testing.
   - If possible, write a test case or describe how to run existing tests.
   - State expected vs. actual behavior.

---

## âš ï¸ ZERO TOLERANCE POLICY

6. **ğŸš« NEVER create migration layers or compatibility functions**
   - Rewrite code natively with modern patterns.

7. **ğŸ”„ ENFORCE consistent naming**
   - Match names across backend, frontend, database, and socket layers exactly.

8. **ğŸ“¦ USE shared types in `shared/`**
   - All API contracts and socket events must use canonical shared types.

9. **ğŸ§ª VALIDATE everything with Zod**
   - No untyped or unchecked data should ever flow through the system.

10. **ğŸ“– READ BEFORE YOU WRITE**
    - Read the docs first.
    - Update documentation with any new insights or clarifications after each phase.

11. **ğŸ” FIX ROOT CAUSES**
    - Donâ€™t patch over inconsistenciesâ€”remove them at the source.

12. **â™»ï¸ REMOVE redundant interfaces**
    - Prefer canonical types like `Question`, `FilteredQuestion`, etc.
    - Never redefine shared concepts locally.

13. **âŒ REMOVE legacy compatibility fields**
    - Shared types must be clean, modern, and reflect the current system only.

14. **ğŸ¯ USE canonical shared types directly in components**
    - No mapping, re-wrapping, or interface duplication is allowed.

15. **ğŸ§© USE existing components**
    - Always use existing components from the shared library.
    - If a component is missing, create it in the shared library.
   
16. **Use globals.css**
   - All global styles and colors should be defined in `globals.css` to ensure consistency across the application.
   - No hard-coded colors

17. **DON'T GUESS**
   - Dont't guess variable/function names, types, or structures. Check the existing codebase and documentation.
   - Don't assume anything about the codebase. If you are unsure, ask for clarification.
   - Don't make assumptions about the behavior of existing code. Always verify by reading the code.
   
---

## âš™ï¸ REQUIRED FILES & STRUCTURE

- `plan.md` â†’ Global checklist with goals and sub-tasks
- `scripts/` â†’ Store all automation scripts here (e.g., code mod tools, migrations)
- `notes/` â†’ Optional: Temporary investigations or analysis for future actions

---

## ğŸ§  AI OPERATIONAL RULES

- â— Do NOT suggest or perform **manual edits** for multi-file changes.
  - Instead, create a reusable script or command (preferably Python).
- ğŸ” Always **analyze existing patterns** before introducing new code.
- ğŸ”„ When stuck, revise `plan.md` before proceeding.
- ğŸ›‘ If you're unsure whether a change helps the main goal, **STOP**, re-align and **ask**.

---

