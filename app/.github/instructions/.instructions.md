---
applyTo: "**"
---


# App Modernization Progress

> **ğŸ¤– AI AGENT PROMPT INSTRUCTIONS:**
> This project enforces ZERO backward compatibility and ZERO legacy code patterns. When working on this codebase:

---

## ğŸ”´ CRITICAL BEHAVIOR GUIDELINES

1. **ğŸ“‹ DOCUMENT EVERYTHING**
   - When working on an issue, maintain an up-to-date `plan.md` file at all times.
   - Every task must be part of a checklist with `[ ]` items; mark items as `[x]` when done.
   - Update the checklist before and after each change.

2. **ğŸªµ LOG ALL ACTIONS**
   - Every non-trivial change must be recorded in the documentation if it affects the codebase somehow:
     - New socket events
     - New API endpoints
     - New Components
     - New Interfaces
     - etc...

3. **ğŸ—‚ï¸ PHASE-BASED PLANNING**
   - Work must be broken down into *phases*, each with a clear scope and exit criteria.
   - Keep the scope narrow: only work on one concern/module at a time.
   - If you cannot complete a phase cleanly, update the plan and stop.

4. **ğŸ¯ ALIGN WITH THE MAIN GOAL**
   - Always check whether the current task aligns with the overall modernization objective.
   - If not, pause and revise the plan.

5. **âœ… TEST AND VALIDATE EVERYTHING**
   - After every change, provide clear steps for testing.
   - If possible, write a test case or describe how to run existing tests.
   - State expected vs. actual behavior.
   - **MANDATORY**: Run `npm run build` after any TypeScript changes to ensure compilation.
   - **MANDATORY**: Test the actual functionality in the application before declaring completion.

6. **ğŸ“š UPDATE VUEPRESS DOCS**
   - When making changes to the codebase, always update the corresponding VuePress documentation.
   - Keep technical documentation in sync with code changes.
   - Document new APIs, components, socket events, and architectural changes.
   - **MANDATORY**: Update type definitions, API schemas, and examples in docs when changing shared types.

7. **ğŸ§ª CREATE TESTS FOR BUG FIXES**
   - Always create tests to reproduce bugs before fixing them.
   - Write failing tests first, then implement the fix.
   - Ensure the test covers the specific bug scenario.

8. **ğŸ§ª CREATE TESTS FOR NEW CODE**
   - Always create comprehensive tests when introducing new code.
   - Include unit tests, integration tests, and edge case coverage.
   - Test both positive and negative scenarios.

9. **ğŸ” VALIDATE BEFORE COMPLETION**
   - **MANDATORY**: Run `npm run build` and ensure it completes successfully.
   - Check TypeScript compilation before declaring victory on any task.
   - Run all tests and ensure they pass.
   - Verify the build process completes successfully.
   - Test the actual functionality in the application.
   - **MANDATORY**: Search for and fix all references to removed/changed types across the entire codebase.

---

## âš ï¸ ZERO TOLERANCE POLICY

10. **ğŸš« NEVER create migration layers or compatibility functions**
    - Rewrite code natively with modern patterns.

11. **ğŸ”„ ENFORCE consistent naming**
    - Match names across backend, frontend, database, and socket layers exactly.

12. **ğŸ“¦ USE shared types in `shared/`**
    - All API contracts and socket events must use canonical shared types.

13. **ğŸ§ª VALIDATE everything with Zod**
    - No untyped or unchecked data should ever flow through the system.

14. **ğŸ“– READ BEFORE YOU WRITE**
    - Read the docs first.
    - Update documentation with any new insights or clarifications after each phase.

15. **ğŸ” FIX ROOT CAUSES**
    - Don't patch over inconsistenciesâ€”remove them at the source.

16. **â™»ï¸ REMOVE redundant interfaces**
    - Prefer canonical types like `Question`, `FilteredQuestion`, etc.
    - Never redefine shared concepts locally.

17. **âŒ REMOVE legacy compatibility fields**
    - Shared types must be clean, modern, and reflect the current system only.

18. **ğŸ¯ USE canonical shared types directly in components**
    - No mapping, re-wrapping, or interface duplication is allowed.

19. **ğŸ§© USE existing components**
    - Always use existing components from the shared library.
    - If a component is missing, create it in the shared library.
   
20. **Use globals.css**
    - All global styles and colors should be defined in `globals.css` to ensure consistency across the application.
    - No hard-coded colors

21. **DON'T GUESS â€” VERIFY EVERYTHING**
    - Never guess variable names, function names, event names, types, or data structures.
    - Always check the codebase, shared types, and documentation before using any name or structure.
    - All event names and payloads must match the canonical shared types and Zod schemas in `shared/types/`.
    - If you are unsure, STOP and ask for clarification or search the codebase.
    - Any code or test that uses a non-canonical or guessed name/type is a modernization violation.---

## âš™ï¸ REQUIRED FILES & STRUCTURE

- `plan.md` â†’ Global checklist with goals and sub-tasks
- `scripts/` â†’ Store all automation scripts here (e.g., code mod tools, migrations)
- `notes/` â†’ Optional: Temporary investigations or analysis for future actions

---

## ğŸ§  AI OPERATIONAL RULES

- â— Do NOT suggest or perform **manual edits** for multi-file changes unless I say otherwise.
  - Instead, create a reusable script or command (preferably Python).
- ğŸ” Always **analyze existing patterns** before introducing new code.
- ğŸ”„ When stuck, revise `plan.md` before proceeding.
- ğŸ›‘ If you're unsure whether a change helps the main goal, **STOP**, re-align and **ask**.

---

