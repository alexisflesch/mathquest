ğŸ” Socket Payload Validator - Project root: /home/aflesch/mathquest/app
ğŸ“‚ Loading files from: shared
ğŸ“‚ Loading files from: backend/src
ğŸ“‚ Loading files from: frontend/src
âœ… Loaded 895 TypeScript files
ğŸ“‹ Loading shared references...
âœ… Found 265 shared types
âœ… Found 6 socket event constants
âœ… Found 200 Zod schemas
ğŸ” Starting Socket Payload Validation Analysis...\n
ğŸ” Finding socket handlers...
âœ… Found 36 socket handlers
ğŸ” Finding socket emitters...
âœ… Found 104 socket emitters
ğŸ” Analyzing payload validation patterns...
ğŸ” Checking shared type usage...
ğŸ” Validating naming consistency...
ğŸ’¡ Generating recommendations...
\nğŸ“Š SOCKET PAYLOAD VALIDATION RESULTS\n
============================================================
\nğŸ“ˆ SUMMARY:
   Socket Handlers: 36
   Socket Emitters: 104
   Total Issues: 355
   Shared Types Available: 265
\nğŸ”´ ISSUES FOUND:
\n   MISSINGZODVALIDATION (30 issues):
   â€¢ frontend/src/hooks/usePracticeSession.ts:268 - Missing Zod schema validation
     Event: connect
   â€¢ frontend/src/hooks/usePracticeSession.ts:273 - Missing Zod schema validation
     Event: disconnect
   â€¢ frontend/src/hooks/usePracticeSession.ts:278 - Missing Zod schema validation
     Event: connect_error
   â€¢ frontend/src/hooks/usePracticeSession.ts:343 - Missing Zod schema validation
     Event: correct_answers
   â€¢ frontend/src/hooks/usePracticeSession.ts:367 - Missing Zod schema validation
     Event: feedback
   ... and 25 more
\n   HARDCODEDEVENTNAMES (140 issues):
   â€¢ frontend/src/hooks/useGameSocket.ts:312 - Hardcoded event name instead of SOCKET_EVENTS constant
     Event: game_joined
   â€¢ frontend/src/hooks/useGameSocket.ts:367 - Hardcoded event name instead of SOCKET_EVENTS constant
     Event: timer_update
   â€¢ frontend/src/hooks/usePracticeSession.ts:268 - Hardcoded event name instead of SOCKET_EVENTS constant
     Event: connect
   â€¢ frontend/src/hooks/usePracticeSession.ts:273 - Hardcoded event name instead of SOCKET_EVENTS constant
     Event: disconnect
   â€¢ frontend/src/hooks/usePracticeSession.ts:278 - Hardcoded event name instead of SOCKET_EVENTS constant
     Event: connect_error
   ... and 135 more
\n   UNSHAREDPAYLOADTYPES (104 issues):
   â€¢ frontend/src/hooks/useGameSocket.ts:273 - Emitter not using shared payload types
     Event: game_answer
   â€¢ frontend/src/hooks/useGameSocket.ts:289 - Emitter not using shared payload types
     Event: join_game
   â€¢ frontend/src/hooks/useGameSocket.ts:341 - Emitter not using shared payload types
     Event: quiz_timer_action
   â€¢ frontend/src/hooks/useStudentGameSocket.ts:413 - Emitter not using shared payload types
     Event: join_game
   â€¢ frontend/src/hooks/useStudentGameSocket.ts:425 - Emitter not using shared payload types
     Event: game_answer
   ... and 99 more
\n   MISSINGTYPEGUARDS (9 issues):
   â€¢ frontend/src/hooks/usePracticeSession.ts:268 - Missing runtime type validation
     Event: connect
   â€¢ frontend/src/hooks/usePracticeSession.ts:273 - Missing runtime type validation
     Event: disconnect
   â€¢ frontend/src/hooks/usePracticeSession.ts:278 - Missing runtime type validation
     Event: connect_error
   â€¢ frontend/src/hooks/usePracticeSession.ts:343 - Missing runtime type validation
     Event: correct_answers
   â€¢ frontend/src/hooks/usePracticeSession.ts:367 - Missing runtime type validation
     Event: feedback
   ... and 4 more
\n   UNDOCUMENTEDEVENTS (36 issues):
   â€¢ frontend/src/hooks/useGameSocket.ts:312 - Socket handler not documented
     Event: game_joined
   â€¢ frontend/src/hooks/useGameSocket.ts:367 - Socket handler not documented
     Event: timer_update
   â€¢ frontend/src/hooks/usePracticeSession.ts:268 - Socket handler not documented
     Event: connect
   â€¢ frontend/src/hooks/usePracticeSession.ts:273 - Socket handler not documented
     Event: disconnect
   â€¢ frontend/src/hooks/usePracticeSession.ts:278 - Socket handler not documented
     Event: connect_error
   ... and 31 more
\n   ANYTYPEDPAYLOADS (36 issues):
   â€¢ frontend/src/hooks/useGameSocket.ts:312 - Payload typed as any
     Event: game_joined
   â€¢ frontend/src/hooks/useGameSocket.ts:367 - Payload typed as any
     Event: timer_update
   â€¢ frontend/src/hooks/usePracticeSession.ts:268 - Payload typed as any
     Event: connect
   â€¢ frontend/src/hooks/usePracticeSession.ts:273 - Payload typed as any
     Event: disconnect
   â€¢ frontend/src/hooks/usePracticeSession.ts:278 - Payload typed as any
     Event: connect_error
   ... and 31 more
\nğŸ’¡ RECOMMENDATIONS:
\n1. ğŸ”´ HIGH: Add Zod validation to 30 socket handlers
   Socket handlers should validate incoming payloads with Zod schemas
   Action: Import and use appropriate Zod schemas from @shared/types/socketEvents.zod
\n2. ğŸŸ¡ MEDIUM: Replace 140 hardcoded event names
   Use SOCKET_EVENTS constants instead of hardcoded strings
   Action: Import SOCKET_EVENTS from @shared/types/socket/events and use constants
\n3. ğŸ”´ HIGH: Convert 104 local types to shared types
   Socket payloads should use canonical shared types
   Action: Replace local interface definitions with imports from @shared/types
\n============================================================
Analysis completed at: 2025-06-20T12:36:43.358Z
\nâš ï¸  Found 355 issues that need attention.
