{"numFailedTestSuites":3,"numFailedTests":8,"numPassedTestSuites":1,"numPassedTests":9,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":4,"numTotalTests":17,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1749756726308,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Timer Debug Tests","Timer Display State Tracking"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Timer Debug Tests Timer Display State Tracking should track timer state changes through complete flow","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should track timer state changes through complete flow"},{"ancestorTitles":["Timer Debug Tests","Timer Display State Tracking"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Timer Debug Tests Timer Display State Tracking should handle invalid timer payloads gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should handle invalid timer payloads gracefully"},{"ancestorTitles":["Timer Debug Tests","Timer Display State Tracking"],"duration":76,"failureDetails":[{"matcherResult":{"actual":"stop","expected":"play","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"play\"\u001b[39m\nReceived: \u001b[31m\"stop\"\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"play\"\u001b[39m\nReceived: \u001b[31m\"stop\"\u001b[39m\n    at Object.toBe (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:335:48)"],"fullName":"Timer Debug Tests Timer Display State Tracking should handle rapid timer updates without state conflicts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should handle rapid timer updates without state conflicts"},{"ancestorTitles":["Timer Debug Tests","Timer Calculation Accuracy"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: dashboardTimerHandler is not a function\n    at dashboardTimerHandler (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:365:21)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:48:24\n    at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/aflesch/mathquest/app/frontend/node_modules/react/cjs/react.development.js:789:22)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n    at Object.<anonymous> (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:364:20)\n    at Promise.then.completed (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Timer Debug Tests Timer Calculation Accuracy should correctly convert milliseconds to seconds in display","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should correctly convert milliseconds to seconds in display"},{"ancestorTitles":["Timer Debug Tests","Timer Calculation Accuracy"],"duration":3,"failureDetails":[{}],"failureMessages":["TypeError: dashboardTimerHandler is not a function\n    at dashboardTimerHandler (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:404:17)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:48:24\n    at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/aflesch/mathquest/app/frontend/node_modules/react/cjs/react.development.js:789:22)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n    at Object.<anonymous> (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:403:16)\n    at Promise.then.completed (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Timer Debug Tests Timer Calculation Accuracy should maintain consistent state between timeLeftMs and localTimeLeftMs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should maintain consistent state between timeLeftMs and localTimeLeftMs"},{"ancestorTitles":["Timer Debug Tests","Edge Cases and Error Scenarios"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: dashboardTimerHandler is not a function\n    at dashboardTimerHandler (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:433:17)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:48:24\n    at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/aflesch/mathquest/app/frontend/node_modules/react/cjs/react.development.js:789:22)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n    at Object.<anonymous> (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:432:16)\n    at Promise.then.completed (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Timer Debug Tests Edge Cases and Error Scenarios should handle timer going to zero gracefully","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle timer going to zero gracefully"},{"ancestorTitles":["Timer Debug Tests","Edge Cases and Error Scenarios"],"duration":2,"failureDetails":[{}],"failureMessages":["TypeError: dashboardTimerHandler is not a function\n    at dashboardTimerHandler (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:468:17)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:48:24\n    at Object.<anonymous>.process.env.NODE_ENV.exports.act (/home/aflesch/mathquest/app/frontend/node_modules/react/cjs/react.development.js:789:22)\n    at /home/aflesch/mathquest/app/frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n    at Object.<anonymous> (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts:467:16)\n    at Promise.then.completed (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"Timer Debug Tests Edge Cases and Error Scenarios should handle negative timeRemaining values","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should handle negative timeRemaining values"}],"endTime":1749756726974,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTimer Debug Tests › Timer Display State Tracking › should handle rapid timer updates without state conflicts\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"play\"\u001b[39m\n    Received: \u001b[31m\"stop\"\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 333 |\u001b[39m             \u001b[90m// Should end with the last update\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 334 |\u001b[39m             expect([\u001b[35m26000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m0\u001b[39m])\u001b[33m.\u001b[39mtoContain(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimeLeftMs)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 335 |\u001b[39m             expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimerStatus)\u001b[33m.\u001b[39mtoBe(\u001b[32m'play'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 336 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 337 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 338 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:335:48)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTimer Debug Tests › Timer Calculation Accuracy › should correctly convert milliseconds to seconds in display\u001b[39m\u001b[22m\n\n    TypeError: dashboardTimerHandler is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 363 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 364 |\u001b[39m                 act(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 365 |\u001b[39m                     dashboardTimerHandler({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 366 |\u001b[39m                         timer\u001b[33m:\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 367 |\u001b[39m                             startedAt\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow()\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 368 |\u001b[39m                             durationMs\u001b[33m:\u001b[39m \u001b[35m30000\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat dashboardTimerHandler (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:365:21)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:48:24\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous>.process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:789:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:47:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:364:20)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTimer Debug Tests › Timer Calculation Accuracy › should maintain consistent state between timeLeftMs and localTimeLeftMs\u001b[39m\u001b[22m\n\n    TypeError: dashboardTimerHandler is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 402 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 403 |\u001b[39m             act(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 404 |\u001b[39m                 dashboardTimerHandler(timerUpdate)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 405 |\u001b[39m             })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 406 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 407 |\u001b[39m             \u001b[36mawait\u001b[39m waitFor(() \u001b[33m=>\u001b[39m {\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat dashboardTimerHandler (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:404:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:48:24\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous>.process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:789:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:47:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:403:16)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTimer Debug Tests › Edge Cases and Error Scenarios › should handle timer going to zero gracefully\u001b[39m\u001b[22m\n\n    TypeError: dashboardTimerHandler is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 431 |\u001b[39m             \u001b[90m// Simulate timer reaching zero\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 432 |\u001b[39m             act(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 433 |\u001b[39m                 dashboardTimerHandler({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 434 |\u001b[39m                     timer\u001b[33m:\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 435 |\u001b[39m                         startedAt\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m30000\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 436 |\u001b[39m                         durationMs\u001b[33m:\u001b[39m \u001b[35m30000\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat dashboardTimerHandler (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:433:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:48:24\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous>.process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:789:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:47:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:432:16)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTimer Debug Tests › Edge Cases and Error Scenarios › should handle negative timeRemaining values\u001b[39m\u001b[22m\n\n    TypeError: dashboardTimerHandler is not a function\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 466 |\u001b[39m             \u001b[90m// Simulate negative time (shouldn't happen but test resilience)\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 467 |\u001b[39m             act(() \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 468 |\u001b[39m                 dashboardTimerHandler({\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 469 |\u001b[39m                     timer\u001b[33m:\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m 470 |\u001b[39m                         startedAt\u001b[33m:\u001b[39m \u001b[33mDate\u001b[39m\u001b[33m.\u001b[39mnow() \u001b[33m-\u001b[39m \u001b[35m35000\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 471 |\u001b[39m                         durationMs\u001b[33m:\u001b[39m \u001b[35m30000\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat dashboardTimerHandler (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:468:17)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:48:24\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous>.process.env.NODE_ENV.exports.act (\u001b[22m\u001b[2mnode_modules/react/cjs/react.development.js\u001b[2m:789:22)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/@testing-library/react/dist/act-compat.js\u001b[2m:47:25\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts\u001b[39m\u001b[0m\u001b[2m:467:16)\u001b[22m\u001b[2m\u001b[22m\n","name":"/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.debug.test.ts","startTime":1749756726587,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Timer Countdown Behavior Test"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Timer Countdown Behavior Test timer should count down automatically when started from dashboard","invocations":1,"location":null,"numPassingAsserts":13,"retryReasons":[],"status":"passed","title":"timer should count down automatically when started from dashboard"},{"ancestorTitles":["Timer Countdown Behavior Test"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Timer Countdown Behavior Test timer should pause and resume correctly maintaining countdown","invocations":1,"location":null,"numPassingAsserts":15,"retryReasons":[],"status":"passed","title":"timer should pause and resume correctly maintaining countdown"},{"ancestorTitles":["Timer Countdown Behavior Test"],"duration":7,"failureDetails":[{"matcherResult":{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: >= \u001b[32m3000\u001b[39m\nReceived:    \u001b[31m2000\u001b[39m","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: >= \u001b[32m3000\u001b[39m\nReceived:    \u001b[31m2000\u001b[39m\n    at Object.toBeGreaterThanOrEqual (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/timer-countdown.test.ts:413:47)"],"fullName":"Timer Countdown Behavior Test teacher timer should have proper configuration for dashboard","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"failed","title":"teacher timer should have proper configuration for dashboard"},{"ancestorTitles":["Timer Countdown Behavior Test"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Timer Countdown Behavior Test timer should handle multiple question changes with proper countdown","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"timer should handle multiple question changes with proper countdown"}],"endTime":1749756727133,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mTimer Countdown Behavior Test › teacher timer should have proper configuration for dashboard\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected: >= \u001b[32m3000\u001b[39m\n    Received:    \u001b[31m2000\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 411 |\u001b[39m             console\u001b[33m.\u001b[39mlog(\u001b[32m`⏰ After ${i} second(s): expected ${expectedTime}ms, actual ${result.current.timeLeftMs}ms`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 412 |\u001b[39m             \u001b[90m// Teacher timer config: allow [-3000ms, +400ms] margin\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 413 |\u001b[39m             expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimeLeftMs)\u001b[33m.\u001b[39mtoBeGreaterThanOrEqual(expectedTime \u001b[33m-\u001b[39m \u001b[35m3000\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 414 |\u001b[39m             expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimeLeftMs)\u001b[33m.\u001b[39mtoBeLessThanOrEqual(expectedTime \u001b[33m+\u001b[39m \u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 415 |\u001b[39m         }\u001b[22m\n\u001b[2m     \u001b[90m 416 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeGreaterThanOrEqual (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/timer-countdown.test.ts\u001b[39m\u001b[0m\u001b[2m:413:47)\u001b[22m\u001b[2m\u001b[22m\n","name":"/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/timer-countdown.test.ts","startTime":1749756726991,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["useTeacherQuizSocket Timer Functionality"],"duration":6,"failureDetails":[{"matcherResult":{"expected":"q1","message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"q1\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"q1\"\u001b[39m\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBe (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.test.ts:113:49)\n    at Promise.then.completed (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"useTeacherQuizSocket Timer Functionality should update timer states (timeLeftMs, timerStatus, timerQuestionUid) based on \"quiz_timer_update\" events","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should update timer states (timeLeftMs, timerStatus, timerQuestionUid) based on \"quiz_timer_update\" events"},{"ancestorTitles":["useTeacherQuizSocket Timer Functionality"],"duration":2,"failureDetails":[{"matcherResult":{"actual":0,"expected":25000,"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m25000\u001b[39m\nReceived: \u001b[31m0\u001b[39m","name":"toBe","pass":false}}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m25000\u001b[39m\nReceived: \u001b[31m0\u001b[39m\n    at Object.toBe (/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.test.ts:189:43)\n    at Promise.then.completed (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:316:40)\n    at _runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/home/aflesch/mathquest/app/frontend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/home/aflesch/mathquest/app/frontend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"useTeacherQuizSocket Timer Functionality should initialize timer-related states from an initial game_control_state","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should initialize timer-related states from an initial game_control_state"}],"endTime":1749756727263,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1museTeacherQuizSocket Timer Functionality › should update timer states (timeLeftMs, timerStatus, timerQuestionUid) based on \"quiz_timer_update\" events\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m\"q1\"\u001b[39m\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 111 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 112 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 113 |\u001b[39m         expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimerQuestionUid)\u001b[33m.\u001b[39mtoBe(\u001b[32m'q1'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                                 \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 114 |\u001b[39m         \u001b[90m// Accept undefined or 'q1' for timerQuestionUid\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 115 |\u001b[39m         expect([undefined\u001b[33m,\u001b[39m \u001b[32m'q1'\u001b[39m])\u001b[33m.\u001b[39mtoContain(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimerQuestionUid)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 116 |\u001b[39m         \u001b[90m// Accept 0 or 60000 for timeLeftMs\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.test.ts\u001b[39m\u001b[0m\u001b[2m:113:49)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1museTeacherQuizSocket Timer Functionality › should initialize timer-related states from an initial game_control_state\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m25000\u001b[39m\n    Received: \u001b[31m0\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 187 |\u001b[39m         })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 188 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 189 |\u001b[39m         expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimeLeftMs)\u001b[33m.\u001b[39mtoBe(\u001b[35m25000\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// ms\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 190 |\u001b[39m         \u001b[90m// Accept 0 or 25000 for timeLeftMs\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 191 |\u001b[39m         expect([\u001b[35m25000\u001b[39m\u001b[33m,\u001b[39m \u001b[35m0\u001b[39m])\u001b[33m.\u001b[39mtoContain(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimeLeftMs)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 192 |\u001b[39m         expect(result\u001b[33m.\u001b[39mcurrent\u001b[33m.\u001b[39mtimerStatus)\u001b[33m.\u001b[39mtoBe(initialQuizStateWithTimer\u001b[33m.\u001b[39mtimerStatus)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36msrc/hooks/__tests__/useTeacherQuizSocket.timer.test.ts\u001b[39m\u001b[0m\u001b[2m:189:43)\u001b[22m\u001b[2m\u001b[22m\n","name":"/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.timer.test.ts","startTime":1749756727178,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["useTeacherQuizSocket State Updates"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"useTeacherQuizSocket State Updates should update quizState when \"game_control_state\" event is received","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update quizState when \"game_control_state\" event is received"},{"ancestorTitles":["useTeacherQuizSocket State Updates"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"useTeacherQuizSocket State Updates should update timer-related states when \"quiz_timer_update\" event is received","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should update timer-related states when \"quiz_timer_update\" event is received"},{"ancestorTitles":["useTeacherQuizSocket State Updates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"useTeacherQuizSocket State Updates should update connectedCount when \"quiz_connected_count\" event is received","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should update connectedCount when \"quiz_connected_count\" event is received"},{"ancestorTitles":["useTeacherQuizSocket State Updates"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"useTeacherQuizSocket State Updates should NOT update profSocketId in quizState when \"dashboard_joined\" event is received","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"should NOT update profSocketId in quizState when \"dashboard_joined\" event is received"}],"endTime":1749756727350,"message":"","name":"/home/aflesch/mathquest/app/frontend/src/hooks/__tests__/useTeacherQuizSocket.stateUpdates.test.ts","startTime":1749756727270,"status":"passed","summary":""}],"wasInterrupted":false}
